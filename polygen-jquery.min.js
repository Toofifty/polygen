(function(t){var r={};var a={basic_light:function(t,r){return n(t,50,30+30*Math.cos(r[0].x-r[1].x+r[2].x-r[0].y+r[1].y-r[2].y))},basic_dark:function(t,r){return n(t,50,50-111*(r[0].x+r[1].x+r[2].x+r[0].y+r[1].y+r[2].y)%25)},fade_streak:function(t,r){return n(t,50,25*Math.sin((r[0].x+r[0].y)/2*Math.PI)+50)},fade_down:function(t,r){var a=25;var i=16*Math.sin(r[2].x*Math.PI)+16*Math.cos(r[2].y*Math.PI);var e=4*Math.sin(r[1].x*Math.PI)+4*Math.cos(r[1].y*Math.PI);return n(t,50,Math.max(a+i+e,a))},fade_center:function(t,r){var a=function(t){return t*t};var i=Math.sqrt(a(r[0].x-.5)+a(r[0].y-.5));var e=Math.max(50,20+50*(1-i));return n(t,50,e)}};var n=function(t,r,a){return"hsl("+t+", "+(r?r:50)+"%, "+(a?a:50)+"%)"};var i=function(t,r,a){return{x:t.x+(r.x-t.x)*a,y:t.y+(r.y-t.y)*a}};var e=function(t){var r=[];var a=t.splitx+t.padding*2;var n=t.splity+t.padding*2;for(var i=-t.padding;i<n;i++){var e=[];for(var o=-t.padding;o<a;o++){var s=Math.random()*Math.PI*2;var l=Math.random()/(2*t.splitx)*t.overbound;var v=Math.random()/(2*t.splity)*t.overbound;e.push({x:o/t.splitx+l*Math.cos(s)+1/(2*t.splitx),y:i/t.splity+v*Math.cos(s)+1/(2*t.splity)})}r.push(e)}return r};t.fn.polygen=function(t){var n=r[this.attr("id")];if(n&&n.anim)clearInterval(n.anim);if(t&&t.colorgen&&typeof t.colorgen==="string"){if(Object.keys(a).indexOf(t.colorgen)>-1){t.colorgen=a[t.colorgen]}else{delete t.colorgen}}t=Object.assign({hue:Math.random()*256,splitx:10,splity:10,padding:0,overbound:1,transition:1,colorgen:a["basic_dark"]},n?n.opts:null,t);if(t.split){t.splitx=t.split;t.splity=t.split}var o=t.hue;var s=this.innerWidth();var l=this.innerHeight();var v=this[0].getContext("2d");var h=function(r,a,n){v.beginPath();{v.lineTo(r.x*s,r.y*l);v.lineTo(a.x*s,a.y*l);v.lineTo(n.x*s,n.y*l);v.lineTo(r.x*s,r.y*l);v.fillStyle=t.colorgen(o,[r,a,n]);v.strokeStyle=v.fillStyle;v.fill();v.stroke()}v.closePath()};var c=function(t){for(var r=0;r<t.length-1;r++){for(var a=0;a<t[0].length-1;a++){h(t[r][a],t[r][a+1],t[r+1][a]);h(t[r][a+1],t[r+1][a],t[r+1][a+1])}}};if(!n){n=r[this.attr("id")]={}}if(n.verts===undefined||n.verts.length===0){var f=e(t);c(f);n.verts=f}else{var u=e(t);var y=n.verts;var d=n.opts.hue;var p=o-d;var x=.01;n.anim=setInterval(function(){v.clearRect(0,0,s,l);o=d+p*x;var r=[];for(var a=0;a<u.length;a++){var e=[];for(var h=0;h<u[0].length;h++){e.push(i(y[a][h],u[a][h],x))}r.push(e)}c(r);x+=Math.sin(x*Math.PI)/30/t.transition;if(isNaN(x)||x>=.99){clearInterval(n.anim)}},12);n.verts=u}n.opts=t;return this}})(jQuery);